uniform sampler2D fbo_texture;
uniform float iGlobalTime;
uniform vec2 iResolution;
uniform float factor;
void main(void) {
  vec2 position = gl_FragCoord.xy / iResolution;
  vec4 c = texture2D(fbo_texture, position);
  vec3 rgb = vec3(c);
  vec3 avg = vec3((c.r + c.g + c.b)/3.0);
  rgb = rgb - (rgb - avg) * factor;
  gl_FragColor = vec4(rgb,c.a);
}